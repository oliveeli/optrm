{% extends "base_generic.html" %}
{% load static %}


{% block stylesheet %}
  <link href="{% static 'mdeditor/css/editormd.min.css' %}" rel="stylesheet">
  <link href="{% static 'mdeditor/css/editormd.preview.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}

<div class="w-100 mr-2">
  <div class="ml-4 p-1 pb-3">
    <h2>{{ article.title }}</h2>
    <div class="mb-2">
        发布时间: {{ article.create_time }}
    </div>
    <div id="content"><textarea>{{ article.content }}</textarea></div>
  </div>
</div>
  <script src="{% static 'mdeditor/js/jquery.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/editormd.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/marked.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/prettify.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/raphael.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/underscore.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/sequence-diagram.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/flowchart.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/jquery.flowchart.min.js' %}"></script>
  <script>
    $(function () {
        // js 解析markdown
        editormd.markdownToHTML("content", {
            //htmlDecode      : "style,script,iframe",  // you can filter tags decode
            emoji           : true,
            taskList        : true,
            tex             : true,  // 默认不解析
            flowChart       : true,  // 默认不解析
            sequenceDiagram : true,  // 默认不解析
        });

        $(".reference-link").each(function (i,obj) {
          console.log(obj)
        })
    })
  </script>
{% endblock %}